async function fetchNotifications() {
    const response = await fetch("https://api.pushbullet.com/v2/pushes", {
        headers: { "Access-Token": "3YIP0zSfHvvoecTEj3gFXbjCOfisNrb3" }
    });
    const data = await response.json();

    console.log("Pushbullet Data:", data);

    if (!data.pushes || data.pushes.length === 0) {
        document.getElementById("notifications").innerHTML = "<p>Geen meldingen beschikbaar.</p>";
        return;
    }

    const notificationList = document.getElementById("notifications");
    notificationList.innerHTML = ""; 

    data.pushes.forEach(push => {
        if (push.title && push.body && !push.dismissed) { // Alleen actieve meldingen tonen
            let li = document.createElement("li");
            li.textContent = `${push.title}: ${push.body}`;
            notificationList.appendChild(li);
        }
    });
}

fetchNotifications();
setInterval(fetchNotifications, 5000);
